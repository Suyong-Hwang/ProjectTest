{% extends "base.html" %}
{% block title %}
<title>ì„œë¹„ìŠ¤ ì´ìš© ë‚´ì—­</title>
{% endblock %}
{% block nav %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container d-flex justify-content-between align-items-center">
        <a class="navbar-brand" href="{{ url_for('dashboard') }}">ê°œì¸ ë§ì¶¤í˜• ê±´ê°•ê¸°ëŠ¥ì‹í’ˆ ì¶”ì²œ ì„œë¹„ìŠ¤</a>
        <div style="display: flex; align-items: center;">
            <span style="color:#fff;" class="me-3">í™˜ì˜í•©ë‹ˆë‹¤, {{ member.username }} ë‹˜!</span>
            <form action="{{ url_for('update_profile', userid=member.userid) }}" method="GET" class="me-2">
                <button type="submit" class="btn btn-success">ì •ë³´ìˆ˜ì •</button>
            </form>
            <a href="/logout" class="btn btn-warning me-2">ë¡œê·¸ì•„ì›ƒ</a>
            <form action="{{ url_for('self_delete_member', userid=member.userid) }}" method="GET" style="margin: 0;">
                <button type="submit" class="btn btn-danger">íšŒì›íƒˆí‡´</button>
            </form>
        </div>
    </div>  
</nav>
{% endblock %}
{% block body %}
<div class="container mt-4">
    <div class="d-flex flex-wrap align-items-center">
        <div class="d-flex align-items-center" 
             style="width: auto; max-width: 270px; font-size: 14px; padding: 6px 10px; 
                    background-color: #e9f7fc; border-radius: 8px; margin-right: 15px;">
            <span style="color: #5a5a5a; margin-right: 10px; letter-spacing: 1px;">ì„œë¹„ìŠ¤ ì‚¬ìš© íšŸìˆ˜:</span>
            <span style="font-size: 14px; color: #1e3a8a; font-weight: bold; 
                         margin-right: 10px; letter-spacing: 1px; min-width: 60px; text-align: right;">
                {{ number }}ë²ˆ
            </span>
            <i class="fas fa-history text-warning" 
               style="font-size: 16px; color: #1e3a8a; margin-left: 8px;"></i>
        </div>

        <div class="d-flex align-items-center" 
             style="width: auto;  font-size: 14px; padding: 6px 10px; 
                    background-color: #e9f7fc; border-radius: 8px;">
            <span style="color: #5a5a5a; margin-right: 10px; letter-spacing: 1px;">ìµœê·¼ ë¡œê·¸ì¸ ë‚ ì§œ:</span>
            <span style="font-size: 14px; color: #1e3a8a; font-weight: bold; 
                         margin-right: 10px; letter-spacing: 1px; min-width: 60px; text-align: right;">
                {{ member.last_login }}
            </span>
            <i class="fas fa-sign-in-alt text-warning" 
               style="font-size: 16px; color: #1e3a8a; margin-left: 8px;"></i>
        </div>
    </div>
</div>

<div class="container mt-4">
    <h2 class="text-center mb-4">ìµœê·¼ ì„œë¹„ìŠ¤ ì´ìš© ë‚´ì—­</h2>
    <div class="container mt-4">
        <div class="row">
            {% for record in service_records %}
            <div class="col-md-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">ğŸ“Œ ì´ìš© ê¸°ë¡</h5>
                        <!-- ì´ìš© ë‚ ì§œ -->
                        <p><strong>ì´ìš© ë‚ ì§œ:</strong> {{ record.used_service_at }}</p>
                        <!-- íšŒì› ê±´ê°• ìƒíƒœ -->
                        <p><strong>íšŒì› ì •ë³´ ë° ê±´ê°• ìƒíƒœ:</strong></p>
                        <ul>
                            {% for status in record.used_service_health_status.split(',') %}
                            <li>
                                {% if status == "ë‚¨ì„±" %}
                                ì„±ë³„ : ì—¬ì„± <br> ê±´ê°•ìƒíƒœ : 
                                {% elif status == "ì—¬ì„±" %}
                                ì„±ë³„ : ë‚¨ì„± <br> ê±´ê°•ìƒíƒœ : 
                                {% elif status == "ì„ì‚°ë¶€" %}
                                ì„ì‚°ë¶€ ë° ìˆ˜ìœ ë¶€
                                {% elif status == "ìˆ˜ìˆ " %}
                                ìµœê·¼ ìˆ˜ìˆ  ì´ë ¥/ìˆ˜ìˆ í•  ì˜ˆì •
                                {% elif status == "í˜ˆë‹¹" %}
                                ì €í˜ˆë‹¹/ê³ í˜ˆë‹¹
                                {% elif status == "í˜ˆì••" %}
                                ì €í˜ˆì••/ê³ í˜ˆì••
                                {% elif status == "í˜ˆì•¡" %}
                                í˜ˆê´€ì§ˆí™˜(ë™ë§¥ì§ˆí™˜, ì •ë§¥ì§ˆí™˜, ëª¨ì„¸í˜ˆê´€ì§ˆí™˜ ë“±)
                                {% elif status == "ë‹¹ë‡¨" %}
                                ë‹¹ë‡¨
                                {% elif status == "ê°„ ì§ˆí™˜" %}
                                ê°„ ì§ˆí™˜
                                {% elif status == "ì„¤ì‚¬" %}
                                ì„¤ì‚¬
                                {% elif status == "ìœ„ì¥" %}
                                ìœ„ì¥ ì¥ì• (ì†Œí™”ë¶ˆëŸ‰, ìœ„ì¥ì¥ì• , ë©”ìŠ¤êº¼ì›€, ìœ„ì‚° ì—­ë¥˜ ë“±)
                                {% endif %}
                                
                            </li>
                            {% endfor %}
                        </ul>
    
                        <!-- ì„ íƒí•œ ê¸°ëŠ¥ì„± -->
                        <p><strong>ì„ íƒí•œ ê¸°ëŠ¥ì„±:</strong></p>
                        <ul>
                            {% if record.used_service_functionality %}
                            {% for func in record.used_service_functionality.split(',') %}
                            
                            <li>
                                {% if func == "ì²´ì§€ë°©" %}
                                ì²´ì¤‘ ê´€ë¦¬
                                {% elif func == "ê°„" %}
                                ê°„ ê±´ê°•
                                {% elif func == "ê°±ë…„ê¸° ë‚¨ì„±" %}
                                ê°±ë…„ê¸°
                                {% elif func == "ê°±ë…„ê¸° ì—¬ì„±" %}
                                ê°±ë…„ê¸°
                                {% elif func == "í”¼ë¶€" %}
                                í”¼ë¶€ ê±´ê°•
                                {% elif func == "ëˆˆ" %}
                                ëˆˆ ê±´ê°•
                                {% elif func == "ê´€ì ˆ" %}
                                ê´€ì ˆ ë° ì—°ê³¨ ê±´ê°•
                                {% elif func == "ê·¼ë ¥" %}
                                ê·¼ë ¥ ê°•í™”
                                {% elif func == "ê¸°ì–µë ¥" %}
                                ê¸°ì–µë ¥ ê°œì„ 
                                {% elif func == "ì¸ì§€ê¸°ëŠ¥" %}
                                ì¸ì§€ ê¸°ëŠ¥ ê°œì„ 
                                {% elif func == "ë©´ì—­ê¸°ëŠ¥" %}
                                ë©´ì—­ë ¥ ê°œì„ 
                                {% elif func == "ë©´ì—­ê³¼ë¯¼ë°˜ì‘" %}
                                ì•Œë ˆë¥´ê¸°ë°˜ì‘(ë©´ì—­ê³¼ë¯¼ë°˜ì‘)ì— ì˜í•œ ì½”ìƒíƒœ ê°œì„ 
                                {% elif func == "ëª¨ë°œ" %}
                                ëª¨ë°œìƒíƒœ ê°œì„ 
                                {% elif func == "ë°°ë³€" %}
                                ë°°ë³€í™œë™ ê°œì„ 
                                {% elif func == "ìˆ˜ë©´" %}
                                ìˆ˜ë©´ ê°œì„ 
                                {% elif func == "í˜ˆë‹¹" %}
                                í˜ˆë‹¹ ê´€ë¦¬
                                {% elif func == "í˜ˆì¤‘" %}
                                í˜ˆì¤‘ ì§€ì§ˆ ê°œì„ (ì¤‘ì„±ì§€ë°©, ì½œë ˆìŠ¤í…Œë¡¤)
                                {% elif func == "í‚¤ì„±ì¥" %}
                                ì–´ë¦°ì´ í‚¤ì„±ì¥
                                {% elif func == "ìš´ë™ìˆ˜í–‰ëŠ¥ë ¥" %}
                                ìš´ë™ìˆ˜í–‰ëŠ¥ë ¥ í–¥ìƒ
                                {% elif func == "ì „ë¦½ì„ " %}
                                ì „ë¦½ì„  ê±´ê°•
                                {% endif %}
                            </li>
                            {% endfor %}
                            {% endif %}
                        </ul>
    
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <div class="text-center mt-4">
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">í™ˆí˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>
    <div class="container mt-4">
    </div>
</div>
<style>
.card {
    border-radius: 10px;
    padding: 15px;
    background-color: #fff;
    transition: 0.3s;
    width : 600px;
    height : 1500px;
    margin-top : 20px;
    margin-bottom : 40px;
}

.card-title {
    font-size: 18px;
    font-weight: bold;
    color: #1e3a8a;
    margin-bottom: 10px;
}

.card p {
    font-size: 16px;
    color: #555;
}

.card ul {
    padding-left: 20px;
    list-style-type: none;
}

.card li {
    background: #f8f9fa;
    padding: 5px 10px;
    border-radius: 5px;
    margin-bottom: 5px;
}

.card:hover {
    box-shadow: 3px 3px 15px rgba(0, 0, 0, 0.2);
}
</style>
{% endblock %}